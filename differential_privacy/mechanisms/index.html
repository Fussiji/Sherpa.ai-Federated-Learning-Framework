



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1, mkdocs-material-4.6.3">
    
    
      
        <title>Mechanisms - Sherpa.FL</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.adb8469c.css">
      
      
    
    
      <script src="../../assets/javascripts/modernizr.86422ebf.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#randomizedresponsecoins" tabindex="0" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="Sherpa.FL" aria-label="Sherpa.FL" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Sherpa.FL
            </span>
            <span class="md-header-nav__topic">
              
                Mechanisms
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" aria-label="search" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../.." title="Sherpa.FL" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Sherpa.FL
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../getting-started/" title="Getting started" class="md-nav__link">
      Getting started
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Private
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Private
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../private/overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../private/data_node/" title="DataNode" class="md-nav__link">
      DataNode
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../private/data/" title="Data" class="md-nav__link">
      Data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../private/query/" title="Query" class="md-nav__link">
      Query
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../private/federated_operation/" title="Federated Operation" class="md-nav__link">
      Federated Operation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../private/federated_attack/" title="Federated Attack" class="md-nav__link">
      Federated Attack
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../private/reproducibility/" title="Reproducibility" class="md-nav__link">
      Reproducibility
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../databases/" title="Databases" class="md-nav__link">
      Databases
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../data_distribution/" title="Data Distribution" class="md-nav__link">
      Data Distribution
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../model/" title="Model" class="md-nav__link">
      Model
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../federated_aggregator/" title="Federated Aggregator" class="md-nav__link">
      Federated Aggregator
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../federated_government/" title="Federated Government" class="md-nav__link">
      Federated Government
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9" checked>
    
    <label class="md-nav__link" for="nav-9">
      Differential Privacy
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        Differential Privacy
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Mechanisms
      </label>
    
    <a href="./" title="Mechanisms" class="md-nav__link md-nav__link--active">
      Mechanisms
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#randomizedresponsecoins" class="md-nav__link">
    RandomizedResponseCoins
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#randomizedresponsebinary" class="md-nav__link">
    RandomizedResponseBinary
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#laplacemechanism" class="md-nav__link">
    LaplaceMechanism
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gaussianmechanism" class="md-nav__link">
    GaussianMechanism
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exponentialmechanism" class="md-nav__link">
    ExponentialMechanism
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sensitivity_sampler/" title="Sensitivity Sampler" class="md-nav__link">
      Sensitivity Sampler
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../norm/" title="Norm" class="md-nav__link">
      Norm
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../probability_distribution/" title="Probability Distribution" class="md-nav__link">
      Probability Distribution
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../composition/" title="Composition" class="md-nav__link">
      Composition
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sampling/" title="Sampling" class="md-nav__link">
      Sampling
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#randomizedresponsecoins" class="md-nav__link">
    RandomizedResponseCoins
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#randomizedresponsebinary" class="md-nav__link">
    RandomizedResponseBinary
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#laplacemechanism" class="md-nav__link">
    LaplaceMechanism
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gaussianmechanism" class="md-nav__link">
    GaussianMechanism
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exponentialmechanism" class="md-nav__link">
    ExponentialMechanism
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>Mechanisms</h1>
                
                <p><span style="float:right;"><a href="https://github.com/sherpaai/Sherpa.FL/blob/master/shfl/differential_privacy/dp_mechanism.py#L10">[source]</a></span></p>
<h3 id="randomizedresponsecoins">RandomizedResponseCoins</h3>
<pre><code class="python">shfl.differential_privacy.dp_mechanism.RandomizedResponseCoins(prob_head_first=0.5, prob_head_second=0.5)
</code></pre>

<p>This class uses a simple mechanism to add randomness for binary data. Both the input and output are binary
arrays or scalars. This algorithm is described by Cynthia Dwork and Aaron Roth in "The algorithmic Foundations of Differential Privacy".</p>
<p>1.- Flip a coin</p>
<p>2.- If tails, then respond truthfully.</p>
<p>3.- If heads, then flip a second coin and respond "Yes" if heads and "No" if tails.</p>
<p>Input data must be binary, otherwise exception will be raised.</p>
<p>This method is log(3)-differentially private</p>
<p><strong>Arguments</strong></p>
<ul>
<li><strong>prob_head_first</strong>: float in [0,1] representing probability to use a random response instead of true value.
    This is equivalent to prob_head of the first coin flip algorithm described by Dwork.</li>
<li><strong>prob_head_second</strong>: float in [0,1] representing probability of respond true when random answer is provided.
    Equivalent to prob_head in the second coin flip in the algorithm.</li>
</ul>
<p><strong>Properties:</strong></p>
<ul>
<li><strong>epsilon_delta</strong>: Return epsilon_delta value</li>
</ul>
<p><strong>References</strong></p>
<ul>
<li><a href="https://www.cis.upenn.edu/~aaroth/Papers/privacybook.pdf">The algorithmic foundations of differential privacy</a></li>
</ul>
<hr />
<p><span style="float:right;"><a href="https://github.com/sherpaai/Sherpa.FL/blob/master/shfl/differential_privacy/dp_mechanism.py#L73">[source]</a></span></p>
<h3 id="randomizedresponsebinary">RandomizedResponseBinary</h3>
<pre><code class="python">shfl.differential_privacy.dp_mechanism.RandomizedResponseBinary(f0, f1, epsilon)
</code></pre>

<p>Implements the most general binary randomized response algorithm. Both the input and output are binary
arrays or scalars. The algorithm is defined through the conditional probabilities</p>
<ul>
<li>p00 = P( output=0 | input=0 ) = f0</li>
<li>p10 = P( output=1 | input=0 ) = 1 - f0</li>
<li>p11 = P( output=1 | input=1 ) = f1</li>
<li>p01 = P( output=0 | input=1 ) = 1 - f1</li>
</ul>
<p>For f0=f1=0 or 1, the algorithm is not random. It is maximally random for f0=f1=1/2.
This class contains, for special cases of f0, f1, the class RandomizedResponseCoins.
This algorithm is epsilon-differentially private if epsilon &gt;= log max{ p00/p01, p11/p10} = log     max { f0/(1-f1), f1/(1-f0)}</p>
<p>Input data must be binary, otherwise exception will be raised.</p>
<p><strong>Arguments</strong></p>
<ul>
<li><strong>f0</strong>: float in [0,1] representing the probability of getting 0 when the input is 0</li>
<li><strong>f1</strong>: float in [0,1] representing the probability of getting 1 when the input is 1</li>
</ul>
<p><strong>Properties:</strong></p>
<ul>
<li><strong>epsilon_delta</strong>: Return epsilon_delta value</li>
</ul>
<p><strong>References</strong></p>
<ul>
<li><a href="http://csce.uark.edu/~xintaowu/publ/DPL-2014-003.pdf">Using Randomized Response for Differential PrivacyPreserving Data Collection</a></li>
</ul>
<hr />
<p><span style="float:right;"><a href="https://github.com/sherpaai/Sherpa.FL/blob/master/shfl/differential_privacy/dp_mechanism.py#L144">[source]</a></span></p>
<h3 id="laplacemechanism">LaplaceMechanism</h3>
<pre><code class="python">shfl.differential_privacy.dp_mechanism.LaplaceMechanism(sensitivity, epsilon, query=None)
</code></pre>

<p>Implements the Laplace mechanism for differential privacy defined by Dwork in
"The algorithmic Foundations of Differential Privacy".</p>
<p>Notice that the Laplace mechanism is a randomization algorithm that depends on the l1 sensitivity,
which can be regarded as a numeric query. One can show that this mechanism is
epsilon-differentially private with epsilon = l1-sensitivity/b where b is a constant.</p>
<p>In order to apply this mechanism for a particular value of epsilon, we need to compute
the sensitivity, which might be hard to compute in practice. The framework provides
a method to estimate the sensitivity of a query that maps the private data in a normed space
(see: <a href="../sensitivity_sampler">SensitivitySampler</a>)</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><strong>sensitivity</strong>: float or array representing sensitivity of the applied query</li>
<li><strong>epsilon</strong>: float for the epsilon you want to apply</li>
<li><strong>query</strong>: Function to apply over private data (see: <a href="../../private/query">Query</a>). This parameter is optional and             the identity function (see: <a href="../../private/query/#identityfunction-class">IdentityFunction</a>) will be used             if it is not provided.</li>
</ul>
<p><strong>Properties:</strong></p>
<ul>
<li><strong>epsilon_delta</strong>: Return epsilon_delta value</li>
</ul>
<p><strong>References</strong></p>
<ul>
<li><a href="https://www.cis.upenn.edu/~aaroth/Papers/privacybook.pdf">The algorithmic foundations of differential privacy</a></li>
</ul>
<hr />
<p><span style="float:right;"><a href="https://github.com/sherpaai/Sherpa.FL/blob/master/shfl/differential_privacy/dp_mechanism.py#L206">[source]</a></span></p>
<h3 id="gaussianmechanism">GaussianMechanism</h3>
<pre><code class="python">shfl.differential_privacy.dp_mechanism.GaussianMechanism(sensitivity, epsilon_delta, query=None)
</code></pre>

<p>Implements the Gaussian mechanism for differential privacy defined by Dwork in
"The algorithmic Foundations of Differential Privacy".</p>
<p>Notice that the Gaussian mechanism is a randomization algorithm that depends on the l2-sensitivity,
which can be regarded as a numeric query. One can show that this mechanism is
(epsilon, delta)-differentially private where noise is draw from a Gauss Distribution with zero mean
and standard deviation equal to sqrt(2 * ln(1,25/delta)) * l2-sensivity / epsilon where epsilon
is in the interval (0, 1)</p>
<p>In order to apply this mechanism, we need to compute
the l2-sensitivity, which might be hard to compute in practice. The framework provides
a method to estimate the sensitivity of a query that maps the private data in a normed space
(see: <a href="../sensitivity_sampler">SensitivitySampler</a>)</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><strong>sensitivity</strong>: float or array representing l2-sensitivity of the applied query</li>
<li><strong>epsilon</strong>: float for the epsilon you want to apply</li>
<li><strong>delta</strong>: float for the delta you want to apply</li>
<li><strong>query</strong>: Function to apply over private data (see: <a href="../../private/query">Query</a>). This parameter is optional and             the identity function (see: <a href="../../private/query/#identityfunction-class">IdentityFunction</a>) will be used             if it is not provided.</li>
</ul>
<p><strong>Properties:</strong></p>
<ul>
<li><strong>epsilon_delta</strong>: Return epsilon_delta value</li>
</ul>
<p><strong>References</strong></p>
<ul>
<li><a href="https://www.cis.upenn.edu/~aaroth/Papers/privacybook.pdf">The algorithmic foundations of differential privacy</a></li>
</ul>
<hr />
<p><span style="float:right;"><a href="https://github.com/sherpaai/Sherpa.FL/blob/master/shfl/differential_privacy/dp_mechanism.py#L274">[source]</a></span></p>
<h3 id="exponentialmechanism">ExponentialMechanism</h3>
<pre><code class="python">shfl.differential_privacy.dp_mechanism.ExponentialMechanism(u, r, delta_u, epsilon, size=1)
</code></pre>

<p>Implements the exponential mechanism differential privacy defined by Dwork in
"The algorithmic Foundations of Differential Privacy".</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><strong>u</strong>: utility function with arguments x and r. It should be vectorized, so that for a         particular database x, it returns as many values as given in r.</li>
<li><strong>r</strong>: array for the response space.</li>
<li><strong>delta_u</strong>: float for the sensitivity of the utility function.</li>
<li><strong>epsilon</strong>: float for the epsilon you want to apply.</li>
<li><strong>size</strong>: integer for the number of queries to perform at once. If not given it defaults to one.</li>
</ul>
<p><strong>References</strong></p>
<ul>
<li><a href="https://www.cis.upenn.edu/~aaroth/Papers/privacybook.pdf">The algorithmic foundations of differential privacy</a></li>
</ul>
                
                  
                
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../../federated_government/" title="Federated Government" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Federated Government
              </span>
            </div>
          </a>
        
        
          <a href="../sensitivity_sampler/" title="Sensitivity Sampler" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Sensitivity Sampler
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org" target="_blank" rel="noopener">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.c33a9706.js"></script>
      
      <script>app.initialize({version:"1.1",url:{base:"../.."}})</script>
      
    
  </body>
</html>